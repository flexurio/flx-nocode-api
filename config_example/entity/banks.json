{
        "table":"banks",
        "primary_key":
        {
                "columns":["id"],
                "auto_increment":true
        },
        "columns":[
                {
                        "name":"id",
                        "auto_increment":true,
                        "nullable":false,
                        "function":"",
                        "type_data":"int"
                },
                {
                        "name":"name",
                        "auto_increment":false,
                        "nullable":false,
                        "function":"",
                        "type_data":"varchar(255)"
                },
                {
                        "name":"bank_type_id",
                        "auto_increment":false,
                        "nullable":false,
                        "function":"",
                        "type_data":"int"
                },
                {
                        "name":"created_at",
                        "auto_increment":false,
                        "nullable":true,
                        "function":"",
                        "type_data":"timestamp"
                },
                {
                        "name":"updated_at",
                        "auto_increment":false,
                        "nullable":true,
                        "function":"",
                        "type_data":"timestamp"
                },
                {
                        "name":"deleted_at",
                        "auto_increment":false,
                        "nullable":true,
                        "function":"",
                        "type_data":"timestamp"
                },
                {
                        "name":"created_by_id",
                        "auto_increment":false,
                        "nullable":true,
                        "function":"",
                        "type_data":"int"
                },
                {
                        "name":"updated_by_id",
                        "auto_increment":false,
                        "nullable":true,
                        "function":"",
                        "type_data":"int"
                },
                {
                        "name":"deleted_by_id",
                        "auto_increment":false,
                        "nullable":true,
                        "function":"",
                        "type_data":"int"
                },
                {
                        "name":"foto",
                        "auto_increment":false,
                        "nullable":true,
                        "function":"",
                        "type_data":"varchar(255)"
                }
        ],
        "indexes":[
                {
                        "name":"index_banks_name",
                        "columns":["name"],
                        "unique":false
                },
                {
                        "name":"index_banks_bank_type_id",
                        "columns":["bank_type_id"],
                        "unique":false
                }
        ],
        "redis":{
                "keys":["name"],
                "ttl":3600
        },
        "get":{
                "columns":["banks.id", "banks.name", "banks.created_at", "banks.bank_type_id", "bank_types.name as bank_type_name", "banks.deleted_at", "banks.foto"],
                "parameters":[
                        "name.like",
                        "name.like|id.like",
                        "bank_type_id.eq",
                        "id.eq",
                        "name.eq", 
                        "bank_types.name.eq",
                        "deleted_at.is"
                ],
                "join_tables":[
                        {
                                "table":"bank_types",
                                "columns":["id", "name"],
                                "logical":"banks.bank_type_id = bank_types.id",
                                "type_join":"inner"
                        }
                ],
                "column_groups":[],
                "order_by":["banks.id"]

        },
        "post":{
                "columns":["name", "bank_type_id", "foto"]
        },
        "put":{
                "columns":["name", "bank_type_id", "foto"]
        },
        "del":{
                "columns":["id"]
        },
        "trace":{
                "insert_into":"bank_type_qtys",
                "column_inserts":["qty", "bank_type_id","bank_type_name"],
                "column_selects":["COUNT(DISTINCT banks.id) as qty","bank_type_id", "bank_types.name as bank_type_name"],
                "parameters":["bank_types.name.eq"],
                "join_tables":[
                        {
                                "table":"bank_types",
                                "columns":["id", "name"],
                                "logical":"banks.bank_type_id = bank_types.id",
                                "type_join":"inner"
                        }
                ],
                "column_groups":["bank_type_id"],
                "column_conflicts":["qty","bank_type_name"]
        },
        "patch":{
                "pre_process_sp":"CALL sp_delete_bank_type_qtys",
                "parameters":["periode"]
        }

}